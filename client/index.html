<html>
<head>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js" type="text/javascript"></script>
<script src="/socket.io/socket.io.js"></script>
<script src="lib/Three.js"></script>
<script src="js/Player.js"></script>
<script src="js/Game.js"></script>
<script src="js/Mesh.js"></script>

<meta charset="utf-8">

<style type="text/css">
body {
background-color: #000000;
margin: 0px;
overflow: hidden;
}
</style>

<script type="text/javascript">



function init() {

   var frameCount = 0;
   // moving vars
   var movingDown0 = false;
   var movingUp0 = false;
   var movingLeft0 = false;
   var movingRight0 = false;
   
   // key listeners
   var keydown = function(e){ 
   if(e.keyCode == 37)
    movingLeft0 = true;
   if(e.keyCode == 38)
    movingUp0 = true;
   if(e.keyCode == 39)
    movingRight0 = true;
   if(e.keyCode == 40)
    movingDown0 = true;
   }
   var keyup = function(e){
   if(e.keyCode == 37)
       movingLeft0 = false;
   if(e.keyCode == 38)
       movingUp0 = false;
   if(e.keyCode == 39)
       movingRight0 = false;
   if(e.keyCode == 40)
       movingDown0 = false;
   }

   document.addEventListener("keydown",keydown,false);
   document.addEventListener("keyup",keyup,false);

   setInterval(update,1000/30);

   // update de l etat du jeu
   function update() 
   {
       game.players.moveMe(movingUp0, movingDown0, movingLeft0, movingRight0);
       frameCount++;
       if(!frameCount%5) {
           Game.move(players.me.position.x, players.me.position.y);
       }
       scene.renderer.render( scene, camera );
   }
}

var scene = new Scene();
var game = new Game();
game.init();

/*
Game.init(); //connect + set up API hooks
protoGL.move();

world.players = {"list":[<Player>,..], idMap:{"idX":indexX}, addPlayer, removePlayer, updatePositions};
player = {"id":X, "particle":<Meshe>};
me = new Player();
me.move(x, y);

-server/
	+server.js
-client/
	+index.html
	+lib/
	    +jQuery
            +Thee.js
        +js/
	    +Game.js				
            +Player.js
            +Meshe.js
	    +World.js (?) //var world = World.init();  loop on world.render();
*/

</script>
</head>
<body>
test
</body>
</html>
